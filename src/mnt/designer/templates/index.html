<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Gate Layout Designer</title>
    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    />
    <!-- Cytoscape.js -->
    <script src="https://unpkg.com/cytoscape/dist/cytoscape.min.js"></script>
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <!-- Include Ace Editor -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js" crossorigin="anonymous"></script>
    <!-- Custom CSS -->
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/styles.css') }}"
    />
  </head>
  <body>
    <div class="container my-4">
      <h1 class="mb-4 text-center">Gate Layout Designer</h1>
      <!-- Layout Form -->
      <form id="layout-form" class="row g-3 mb-4 justify-content-center">
        <div class="col-auto">
          <label for="x-dimension" class="visually-hidden">Width (X)</label>
          <input
            type="number"
            id="x-dimension"
            name="x-dimension"
            class="form-control"
            placeholder="Width (X)"
            required
            min="1"
          />
        </div>
        <div class="col-auto">
          <label for="y-dimension" class="visually-hidden">Height (Y)</label>
          <input
            type="number"
            id="y-dimension"
            name="y-dimension"
            class="form-control"
            placeholder="Height (Y)"
            required
            min="1"
          />
        </div>
        <div class="col-auto d-flex align-items-center">
          <button type="submit" class="btn btn-primary mb-3 me-2" id="resize-button">
            Resize Layout
          </button>
          <button type="button" class="btn btn-secondary mb-3 me-2" id="reset-layout-button">
            Reset Layout
          </button>
          <button type="button" class="btn btn-secondary mb-3" id="reset-editor-button">
            Reset Editor
          </button>
        </div>
      </form>
      <!-- Import/Export Buttons -->
      <div class="btn-group mb-3 d-flex justify-content-center" role="group">
        <button type="button" id="import-verilog-button" class="btn btn-outline-primary">
          <i class="fas fa-file-import"></i> Import Verilog
        </button>
        <button
          type="button"
          id="import-button"
          class="btn btn-outline-primary"
        >
          <i class="fas fa-file-import"></i> Import Layout
        </button>
        <button
          type="button"
          id="export-button"
          class="btn btn-outline-primary"
        >
          <i class="fas fa-file-export"></i> Export Layout
        </button>
      </div>
      <!-- Hidden File Input for Import -->
      <input
        type="file"
        id="import-file-input"
        accept=".xml"
        style="display: none"
      />
      <input type="file" id="import-verilog-file-input" accept=".v" style="display: none" />
      <!-- Gate Selection -->
      <div
        id="gate-selection"
        class="btn-group mb-3 d-flex justify-content-center flex-wrap"
        role="group"
      >
        <button
          type="button"
          id="pi-button"
          class="btn btn-outline-secondary"
          data-bs-toggle="tooltip"
          data-bs-placement="top"
          title="Place a Primary Input gate"
        >
          <i class="fas fa-sign-in-alt"></i> PI
        </button>
        <button
          type="button"
          id="po-button"
          class="btn btn-outline-secondary"
          data-bs-toggle="tooltip"
          data-bs-placement="top"
          title="Place a Primary Output gate"
        >
          <i class="fas fa-sign-out-alt"></i> PO
        </button>
        <button
          type="button"
          id="inv-button"
          class="btn btn-outline-secondary"
          data-bs-toggle="tooltip"
          data-bs-placement="top"
          title="Place an Inverter gate"
        >
          <i class="fas fa-not-equal"></i> INV
        </button>
        <button
          type="button"
          id="buf-button"
          class="btn btn-outline-secondary"
          data-bs-toggle="tooltip"
          data-bs-placement="top"
          title="Place a Buffer gate"
        >
          <i class="fas fa-arrow-right"></i> BUF
        </button>
        <button
          type="button"
          id="and-button"
          class="btn btn-outline-secondary"
          data-bs-toggle="tooltip"
          data-bs-placement="top"
          title="Place an AND gate"
        >
          <i class="fas fa-plus"></i> AND
        </button>
        <button
          type="button"
          id="or-button"
          class="btn btn-outline-secondary"
          data-bs-toggle="tooltip"
          data-bs-placement="top"
          title="Place an OR gate"
        >
          <i class="fas fa-plus-circle"></i> OR
        </button>
        <button
          type="button"
          id="nor-button"
          class="btn btn-outline-secondary"
          data-bs-toggle="tooltip"
          data-bs-placement="top"
          title="Place a NOR gate"
        >
          <i class="fas fa-ban"></i> NOR
        </button>
        <button
          type="button"
          id="xor-button"
          class="btn btn-outline-secondary"
          data-bs-toggle="tooltip"
          data-bs-placement="top"
          title="Place an XOR gate"
        >
          <i class="fas fa-times-circle"></i> XOR
        </button>
        <button
          type="button"
          id="xnor-button"
          class="btn btn-outline-secondary"
          data-bs-toggle="tooltip"
          data-bs-placement="top"
          title="Place an XNOR gate"
        >
          <i class="fas fa-times"></i> XNOR
        </button>
        <button
          type="button"
          id="connect-button"
          class="btn btn-outline-secondary"
          data-bs-toggle="tooltip"
          data-bs-placement="top"
          title="Connect gates"
        >
          <i class="fas fa-link"></i> Connect Gates
        </button>
        <button
          type="button"
          id="delete-button"
          class="btn btn-outline-danger"
          data-bs-toggle="tooltip"
          data-bs-placement="top"
          title="Delete a gate"
        >
          <i class="fas fa-trash-alt"></i> Delete Gate
        </button>
        <button
          type="button"
          id="cancel-button"
          class="btn btn-outline-warning"
          data-bs-toggle="tooltip"
          data-bs-placement="top"
          title="Cancel current action"
        >
          <i class="fas fa-times"></i> Cancel
        </button>
      </div>
      <div class="mb-3 d-flex justify-content-center">
        <!-- ortho Button -->
        <button type="button" id="ortho-button" class="btn btn-outline-primary">
          <i class="fas fa-project-diagram"></i> ortho
        </button>
        <!-- gold Button -->
        <button type="button" id="gold-button" class="btn btn-outline-primary">
          <i class="fas fa-gem"></i> gold
        </button>
        <!-- Design Rule Check Button -->
        <button
          type="button"
          id="check-rules-button"
          class="btn btn-outline-success"
        >
          <i class="fas fa-check-circle"></i> Check Design Rules
        </button>
        <!-- Check Equivalence Button -->
        <button type="button" id="check-equivalence-button" class="btn btn-outline-info">
          <i class="fas fa-balance-scale"></i> Check Equivalence
        </button>
      </div>
      <!-- Message Area -->
      <div id="message-area" class="alert alert-info text-center" role="alert">
        Please create a layout to get started.
      </div>
      <div class="zoom-controls d-flex justify-content-center mb-3">
        <button id="zoom-in" class="btn btn-outline-secondary mx-2">
          <i class="fas fa-search-plus"></i> Zoom In
        </button>
        <button id="zoom-out" class="btn btn-outline-secondary mx-2">
          <i class="fas fa-search-minus"></i> Zoom Out
        </button>
        <button id="reset-zoom" class="btn btn-outline-secondary mx-2">
          <i class="fas fa-compress"></i> Reset Zoom
        </button>
      </div>
      <!-- Violations Area -->
      <div id="violations-area" class="alert alert-warning d-none" role="alert">
        <h5>Design Rule Violations:</h5>
        <ul id="violations-list"></ul>
      </div>
      <!-- Equivalence Area -->
      <div id="equivalence-area" class="alert alert-warning d-none" role="alert">
        <h5>Equivalence:</h5>
      </div>
      <div class="row">
        <div class="col-md-4">
          <!-- Text Editor -->
          <div id="editor-container"></div>
        </div>
        <div class="col-md-8">
          <!-- Cytoscape Container -->
          <div id="cy"></div>
        </div>
      </div>
    </div>
    <!-- jQuery and Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Bootstrap Bundle JS (includes Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom Script -->
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
  </body>
</html>
